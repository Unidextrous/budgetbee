#:kivy 2.0

<DashboardScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "BudgetBee Dashboard"
            font_size: 32
        Label:
            text: "Total Balance: $" + root.total_balance
            font_size: 24
        Button:
            text: "Accounts"
            on_release: app.root.current = "accounts"
        Button:
            text: "Categories"
            on_release: app.root.current = "categories"
        Button:
            text: "Transactions"
            on_release: app.root.current = "transactions"

<AccountsScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Accounts"
            font_size: 28
        ScrollView:
            GridLayout:
                id: accts_list
                cols: 1
                size_hint_y: None
        Button:
            text: "Add Account"
            on_release: app.root.current = "add_account"
        Button:
            text: "Back"
            on_release: app.root.current = "dashboard"

<AddAccountScreen>:
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: owner
            hint_text: "Account Owner"
        TextInput:
            id: name
            hint_text: "Account Name"
        TextInput:
            id: balance
            hint_text: "Balance"
            input_filter: "float"
        Button:
            text: "Save Account"
            on_release: root.add_account(owner.text, name.text, balance.text)
        Button:
            text: "Back"
            on_release: app.root.current = "accounts"

<CategoriesScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Categories"
            font_size: 28
        ScrollView:
            GridLayout:
                id: cats_list
                cols: 1
                size_hint_y: None
        Button:
            text: "Add Category"
            on_release: app.root.current = "add_category"
        Button:
            text: "Back"
            on_release: app.root.current = "dashboard"

<AddCategoryScreen>:
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: name
            hint_text: "Category Name"
        BoxLayout:
            orientation: "horizontal"
            ToggleButton:
                id: income_btn
                text: "Income"
                group: "type"
            ToggleButton:
                id: expense_btn
                text: "Expense"
                group: "type"
        Button:
            text: "Save Category"
            on_release: root.add_category(name.text)
        Button:
            text: "Back"
            on_release: app.root.current = "categories"

<TransactionsScreen>:
    BoxLayout:
        orientation: "vertical"
        Label:
            text: "Transactions"
            font_size: 28
        ScrollView:
            GridLayout:
                id: txns_list
                cols: 1
                size_hint_y: None
        Button:
            text: "Add Transaction"
            on_release: app.root.current = "add_transaction"
        Button:
            text: "Back"
            on_release: app.root.current = "dashboard"

<AddTransactionScreen>:
    account_spinner: account_spinner
    category_spinner: category_spinner
    BoxLayout:
        orientation: "vertical"
        Spinner:
            id: account_spinner
            text: "Select Account"
            values: []
        Spinner:
            id: category_spinner
            text: "Select Category"
            values: []
        TextInput:
            id: amount
            hint_text: "Amount"
            input_filter: "float"
        TextInput:
            id: date
            hint_text: "Date (YYYY-MM-DD) (Default: Today)"
        TextInput:
            id: description
            hint_text: "Description"
        Button:
            text: "Save Transaction"
            on_release: root.add_transaction(account_spinner.text, category_spinner.text, amount.text, date.text, description.text)
        Button:
            text: "Back"
            on_release: app.root.current = "transactions"